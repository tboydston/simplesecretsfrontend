<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Simple Secret Sharing is an easy and secure way to share short secrets and small files. Your secret is encrypted in your browser and the encrypted message is stored on our server. Once it has been viewed a certain number of times or after a certain time period the secret is permanently deleted.">
  <meta name="author" content="">

  <title>Simple Secret Sharing</title>

  <link rel="icon" type="image/svg+xml" href="img/favicon.svg">

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <script src="vendor/jquery/jquery.min.js"></script>
  <script> 
    $(function(){
      $("#topnav").load("header.html"); 
      $("#footer").load("footer.html"); 
    });
  </script>

  <!-- Custom styles for this template -->
  <link href="css/style.css" rel="stylesheet">
  <link href="css/main.css" rel="stylesheet">
</head>

<body>

  <!-- Navigation -->
  <header id="topnav" class="defaultscroll sticky nav-sticky"></header>



  <div class="container"></div>

  <!-- Page Content -->
  <div class="container">

    <div class="emptyBox115px" ></div>

    <div class="alert alert-warning" role="alert">
      <b>Note:</b> Viewing a secret, even one you created will use one of it's total views. If you want to view the expiration or remaining views use the "Check" page.
    </div>

    <div class="alert alert-danger fade hide show" id="viewAPIerror" role="alert" style="display:none;">
      Your secret has either expired, used all it's views, or never existed.
    </div>

    <div class="alert alert-success fade hide show" id="deleteAPIsuccess" role="alert" style="display:none;">
      Your secret has successfully been deleted. 
    </div>

    <form id="tokenForm" >
      <div class="form-group">
        <label for="userToken">Your Token</label>
        <input type="text" class="form-control userToken" id="userToken" >
        <div class="invalid-feedback">
          A valid token is 24 characters. Please verify your token and submit again.
        </div>
      </div>
      <button type="button" class="btn btn-primary tokenSubmit" id="tokenSubmit" >Submit</button>
      <button type="button" class="btn btn-secondary tokenDelete" id="tokenDelete" >Delete</button>
      <button type="button" class="btn btn-warning confirmDelete" id="confirmDelete" style="display:none;" >Confirm Delete</button>
    </form>



  </div>
  <!-- /.container -->

  <div class="container getSecretResult" id="getSecretResult" style="display:none;" >

    <div class="horizontalBar" ></div>

    <form id="getSecretResultForm" >

        <div class="form-group row">
          <label for="colFormLabel" class="col-sm-2 col-form-label">Expiration</label>
          <div class="col-sm-10">
            <input type="text" class="form-control secretViewExpiration" style="background-color:#fff" id="secretViewExpiration" placeholder="Expiration" readonly>
          </div>
        </div>

        <div class="form-group row">
          <label for="colFormLabel" class="col-sm-2 col-form-label">Views</label>
          <div class="col-sm-10">
            <input type="text" class="form-control secretViewViews" style="background-color:#fff" id="secretViewViews" placeholder="Views" readonly>
          </div>
        </div>

        <div class="form-group row">
          <label for="colFormLabel" class="col-sm-2 col-form-label">Encrypted Secret</label>
          <div class="col-sm-10">
            <textarea class="form-control resultsEncryptedContent" id="resultsEncryptedContent" style="background-color:#fff" rows="5" readonly></textarea>
          </div>
        </div>
        
        <div class="horizontalBar" ></div>
        
        <div class="form-group row">
          <label for="colFormLabel" class="col-sm-2 col-form-label">Password</label>
            <div class="input-group col-sm-10">
              <input type="password" class="form-control decryptPassword" id="decryptPassword" placeholder="Decryption Password" >
              <div class="input-group-append">
                <button class="btn btn-outline-secondary showHidePasswordResult" id="showHidePasswordResult" type="button">Show</button>
              </div>
              <div class="invalid-feedback">
              Invalid Password
            </div>
            </div>
        </div>

        <button type="button" class="btn btn-primary decrypt" id="decrypt" >Decrypt</button>

    </form>

    <div class="horizontalBar" ></div>

    <form id="decryptedSecretForm" style="display:none;" >

        <div class="form-group row">
          <label for="colFormLabel" class="col-sm-2 col-form-label">Decrypted Secret</label>
          <div class="col-sm-10">
            <textarea class="form-control decryptedContent" id="decryptedContent" style="background-color:#fff" rows="5" readonly></textarea>
            <small id="decryptedContentHelp" class="form-text text-muted">If you have issues opening a downloaded file confirm the file extension is correct and change it to match the submitted file if it is not. You can also try copying and pasting the decrypted content in your browsers URL bar. If the content is valid the file will download.</small>
          </div>
        </div>
        <div class="form-group row">
          <label for="colFormLabel" class="col-sm-2 col-form-label"></label>
          <div class="col-sm-10">
            <button type="button" id="copyContent" class="btn btn-secondary copyContent">Copy</button>
            <button type="button" id="downloadContentButton" class="btn btn-secondary downloadContentButton">Download</button>
          </div>
        </div>

    </form>

  </div>

 <div class="emptyBox115px" ></div>
  </div>

  <footer class="footer" id="footer"></footer>

  <!-- Bootstrap core JavaScript -->
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Crypto Js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/aes.min.js"></script>

  <!-- Simple Secrets -->
  <script type="text/javascript" src="mimeTypes.json"></script>
  <script type="text/javascript" src="js/config.js"></script>
  <script type="text/javascript" src="js/functions.js"></script>
  <script type="text/javascript" src="js/view.js"></script>

</body>

</html>
